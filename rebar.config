{erl_opts, [
  debug_info
  , {parse_transform, lager_transform}
]}.
{deps, [
  {parse_trans, "3.0.0"}
  , {lager, "3.5.2"}
  , {mixer, "1.0.0", {pkg, inaka_mixer}}
  , {erlydtl, "0.12.1"}
  , {cowboy, "1.1.2"}
  , {jwt, "0.1.3"}
  , {jsx, "2.8.2"}
  , {xfutils, {git, "https://github.com/simonxu72/erlang-xfutils", {branch, "master"}}}
  , {pg_mcht_protocol, {git, "https://github.com/simonxu72/pg_mcht_protocol", {branch, "master"}}}
  , {pg_mcht_enc, {git, "https://github.com/simonxu72/pg_mcht_enc", {branch, "master"}}}
  , {pg_test_utils, {git, "https://github.com/simonxu72/pg_test_utils", {branch, "master"}}}
]}.

{plugins, [
  {rebar3_erlydtl_plugin, ".*",
    {git, "https://github.com/tsloughter/rebar3_erlydtl_plugin.git", {branch, "master"}}}
]}.

{provider_hooks, [
  {pre, [{compile, {erlydtl, compile}}]}
]}.
{shell, [
  {apps, [pg_mcht_enc, pg_web]}
  , {config, "sys.config"}]}.

{lager, [
  {log_root, "/tmp/logs/"},
  {handlers, [
    {lager_console_backend, debug},
    {lager_file_backend, [{file, "error.log"}, {level, error}]},
    {lager_file_backend, [{file, "console.log"}, {level, info}]}
  ]}
]}.